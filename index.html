<html>
  <title>Promises Sandbox</title>
  <head>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="jquery-1.11.1.min.js"></script>
    <script src="rsvp-latest.js"></script>
    <script src="main.js"></script>
    <script src="examples.js"></script>
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-xs-12">
          <h1>Promises</h1>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6">
          <h3>Select example</h3>
          <select name="example-selector">
            <option value="">-- Select an example --</option>
            <option value="example-1">Resolve and reject</option>
            <option value="example-2">Simple chains</option>
            <option value="example-3">Chaining with missing handlers</option>
            <option value="example-4">Error handling at the end of the chain</option>
            <option value="example-5">Attaching multiple handlers</option>
            <option value="example-6">Checking promise resolution</option>
            <option value="example-7">Retry</option>
            <option value="example-8">Delayed retry</option>
            <option value="example-9">Off to the races!</option>
          </select>
          <button type="button" class="rerun-button btn-sm btn-primary">Rerun</button>
          <div>
            <h3>Example code</h3>
            <pre class="example">
            </pre>
          </div>
          <div>
            <h3>Output</h3>
            <pre class="results">
            </pre>
          </div>
        </div>
        <div class="col-xs-6">
          <h3>Library code</h3>
          <pre class="library">
          </pre>
        </div>
      </div>
    </div>

    <script>
    function run(name) {
      var example = prettyExample(name);
      $('.example').html(example);
      $('.results').html(runExample(name));
    }

    $(function() {
      // $('.library').html(library.toString());
      $('select[name=example-selector]').on('change', function() {
        var name = $(this).val();
        clearResults();
        run(name);
      });

      $('button.rerun-button').on('click', function() {
        var exampleSelector$ = $('select[name=example-selector]');
        var name = exampleSelector$.val();
        clearResults();
        run(name);
      });
    });
    </script>
  </body>
</html>
